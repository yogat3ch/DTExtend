/*! dtextend 2024-03-08 11:30:48 */
function seq(start,stop,step){return Array.from({length:(stop-start)/step+1},(value,index)=>start+index*step)}function jqueryObjsOnly(jq){var e=[];for(i=0;i<jq.length;i++)e.push(jq[[i]]);return e}function arr_subset(arr,rc=[1,1]){if(out=[],rc[0]&&rc[1])out=arr[rc[0]][rc[1]];else if(rc[1])for(let e=0;e<arr.length;e++)out.push(arr[e][rc[1]]);else rc[0]&&(out=arr[rc[0]]);return out}function which(array){var t=[];for(let e=0;e<array.length;e++)array[e]&&t.push(e);return t}function waitForEl(selector){return new Promise(resolve=>{if(document.querySelector(selector))return resolve(document.querySelector(selector));const e=new MutationObserver(mutations=>{document.querySelector(selector)&&(resolve(document.querySelector(selector)),e.disconnect())});e.observe(document.body,{childList:!0,subtree:!0})})}function id_check(id,rm_hash=!1){var e=new RegExp("^#");return e.test(id)||rm_hash?rm_hash&&e.test(id)&&(id=id.substring(1)):id="#"+id,id}function objectMap(obj,fn){return Object.fromEntries(Object.entries(obj).map(([k,v],i)=>[k,fn(v,k,i)]))}function tagMatch(arr,fn){let t=[];return t=arr instanceof jQuery?(t=arr.map((i,e)=>{let t=null;return t=fn(e)?i:t}),Array.from(jqueryObjsOnly(t))):arr.reduce(function(a,e,i){return fn(e)&&a.push(i),a},[])}function isVisible(selector){return $(selector).is(":visible")}function buttonClose(selector,in_html="Close Notes",icon_class="fa fa-rectangle-xmark"){var e="."+selector,selector=(selector=id_check(selector),$(selector)),t=(selector.toggleClass("btn-pressed"),$(selector.find("i")[0]));void 0===globalThis[[e]]&&(globalThis[[e]]={fired:!0,html:selector.text(),icon:t.attr("class")}),t.hasClass(globalThis[[e]].icon)?selector.html(`<i class="${icon_class}" role="presentation" aria-label="close icon"></i>
      `+in_html):(in_html=globalThis[[e]].html,icon_class=globalThis[[e]].icon,selector.html(`<i class="fa ${icon_class}" role="presentation" aria-label="open icon"></i>
      `+in_html))}function dt_table_id(id,rm_hash=!1){var e=void 0,e=/^\#?DataTables/g.test(id)?id:$(id_check(id)+" table").attr("id");return id_check(e,rm_hash)}function dt_names(id){return Object.values(objectMap(jqueryObjsOnly($(dt_table_id(id)+" th")),e=>$(e).text()))}function dt_shiny_id(id,rm_hash=!1){var e=void 0,e=/^\#?DataTables/g.test(id)?$(""+id_check(id)).parent(".datatables").attr("id"):id;return id_check(e,rm_hash)}function dt_api(id){return $(dt_table_id(id)).DataTable()}function dt_tab_accessible(id){id=dt_api(id);document.debug_mode&&console.log("dt_tab_accessible ran"),id.on("key",function(e,datatable,key,cell,originalEvent){var r=cell.table().node().id,r=$("#"+r).parent().parent().attr("id");if(13==key){key=cell.index().row,cell=$(datatable.row(key).node());cell.hasClass("selected")?cell.removeClass("selected"):cell.addClass("selected");let e=datatable.page(),t=datatable.page.len();Shiny.setInputValue(r+"_row_last_clicked",key+1,{priority:"event"});datatable=tagMatch(cell.parent("tbody").children("tr"),e=>$(e).hasClass("selected")).map(i=>i+1+e*t);Shiny.setInputValue(r+"_rows_selected",datatable,{priority:"event"})}})}function dt_retain_policy_color(id){id=jqueryObjsOnly($(dt_table_id(id)+" td.dt-policy_id"));id&&id.forEach(e=>{var e=$(e),t=e.attr("style");t&&!/important\;$/g.test(t)&&e.attr("style",t.split(/\;$/)[0]+" !important;")})}function dt_filter_inputs(id){return jqueryObjsOnly($(dt_table_id(id)+' input[type="search"]'))}function dt_filter_reset(id){Shiny.setInputValue(dt_shiny_id(id,rm_hash=!0)+"_reset",0,{priority:"event"})}function dt_filter_set(id,filters=[],reset=!1){var e=dt_table_id(id),t=dt_names(id);if("string"==typeof e){debugger;var r=dt_filter_inputs(id),i=Array(r.length).fill(""),a=dt_api(e);if(reset)dt_filter_reset(id);else if(filters.length){if(Array.isArray(filters))i=filters;else for(var l=Object.keys(filters),n=Object.values(filters),s=0;s<l.length;s++)i[t.indexOf(l[s])]=n[s];for(s=0;s<i.length;s++)$(r[s]).val(i[s]),a.column(s).search(i[s]).draw()}Shiny.setInputValue(id+"_search_columns",i,{priority:"event"})}}function dt_search_icon(id){var id=dt_table_id(id)+"_filter",id=$(id),e=id.html();e&&(e=e.replace(/Search:/g,'<i class="fas fa-magnifying-glass p-2"></i>'),$(id).html(e),id.find("input").attr("placeholder","Search"))}function dt_filter_placeholders(id,character="Search",integer="Use Slider",number="Use Slider",disabled){id=dt_table_id(id),$(id+" td[data-type='character'] input[type='search']").attr("placeholder",character),$(id+" td[data-type='integer'] input[type='search']").attr("placeholder",integer),$(id+" td[data-type='number'] input[type='search']").attr("placeholder",number),$(id+" td[data-type='number'] input[disabled]").attr("placeholder","N/A")}