function jqueryObjsOnly(t){var e=[];for(i=0;i<t.length;i++)e.push(t[[i]]);return e}function id_check(t,e=!1){let r=new RegExp("^#");return r.test(t)||e?e&&r.test(t)&&(t=t.substring(1)):t="#"+t,t}const objectMap=(t,e)=>Object.fromEntries(Object.entries(t).map((([t,r],i)=>[t,e(r,t,i)])));function dt_search_icon(t){var e=$(`#${t}_filter`),r=e.html();r&&(r=r.replace(/Search:/g,'<i class="fas fa-magnifying-glass p-2"></i>'),$(e).html(r),e.find("input").attr("placeholder","Search"))}function dt_filter_placeholders(t=table.table().node().id,e="Search",r="Use Slider",i="Use Slider"){$("#"+t+" td[data-type='character'] input[type='search']").attr("placeholder",e),$("#"+t+" td[data-type='integer'] input[type='search']").attr("placeholder",r),$("#"+t+" td[data-type='number'] input[type='search']").attr("placeholder",i)}function dt_retain_policy_color(t,e="dt-policy_id"){var r=jqueryObjsOnly($("#"+t+" td."+e));r&&r.forEach((t=>{let e=$(t);var r=e.attr("style");r&&!/important\;$/g.test(r)&&e.attr("style",r.split(/\;$/)[0]+" !important;")}))}function dt_api(t){return t=id_check(dt_table_id(t)),$(t).DataTable()}function dt_names(t){return Object.values((e=jqueryObjsOnly($(`#${t} th`)),r=t=>$(t).text(),Object.fromEntries(Object.entries(e).map((([t,e],i)=>[t,r(e,t,i)])))));var e,r}function dt_filter_inputs(t){return jqueryObjsOnly($(id_check(t)+' input[type="search"]'))}function dt_filter_reset(t){Shiny.setInputValue(t+"_reset",0,{priority:"event"})}function dt_filter_set(t,e=[],r=!1){var i=dt_table_id(t),a=dt_names(t);if("string"==typeof i){var n=dt_filter_inputs(t),l=Array(n.length).fill(""),c=dt_api(i);if(r)dt_filter_reset(t);else if(e.length){if(Array.isArray(e))l=e;else for(var s=Object.keys(e),d=Object.values(e),u=0;u<s.length;u++)l[a.indexOf(s[u])]=d[u];for(u=0;u<l.length;u++)$(n[u]).val(l[u]),c.column(u).search(l[u]).draw()}Shiny.setInputValue(t+"_search_columns",l,{priority:"event"})}}function dt_table_id(t){t=id_check(t);return/^\#?DataTables/g.test(t)?t:$(`${id_check(t)} table`).attr("id")}function isVisible(t){return $(t).is(":visible")}